!function(){function t(e){return angular.forEach(arguments,function(o){o!==e&&angular.forEach(o,function(o,r){e[r]&&e[r].constructor&&e[r].constructor===Object?t(e[r],o):e[r]=o})}),e}function e(t,e,o,n){t[_removeEventListener](l+e,"wheel"==s?o:r,n||!1)}function o(t,e,o,n){t[i](l+e,"wheel"==s?o:r,n||!1)}function r(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==s?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,callback(e)}var n=angular.module("nzTour",[]);if(n.factory("nzTour",["$q","$rootScope","$compile","$timeout","$document",function(e,o,r,n,i){function s(t){return t||e.reject("No Tour Specified!"),t.steps.length||e.reject("No steps were found in that tour!"),y.current?l().then(function(){return g(t)}):g(t)}function l(){return w(0).then(function(){return h(!1)}).then(function(){var t=y.current.tour.config.onClose;return y.current=!1,!t||t()})}function a(){y.current&&k()}function c(){return y.current||y.current.reject(),w(1).then(v).then(function(){return y.current.step++,1}).then(m)}function f(){return w(-1).then(function(){return y.current.step>0?(y.current.step--,-1):e.reject(null)}).then(m)}function u(t){return t>0&&t<=y.current.tour.steps.length?w(0).then(function(){return y.current.step=t-1,0}).then(m):e.reject("Requested step not defined")}function g(o){o.config=t({},y.config,o.config);var r=function(t){if(!angular.isArray(t))return!1;for(var e=0;e<t.length;e+=1)if(y.config.placementPriority.indexOf(t[e])===-1)return!1;return!0};return r(o.config.placementPriority)||(o.config.placementPriority=y.config.placementPriority),angular.forEach(o.steps,function(t){t.placementPriority&&(r(t.placementPriority)||delete t.placementPriority)}),y.current={tour:o,step:0,promise:e.defer()},h(!0,o),m()}function h(t,o){return t?(y.box=angular.element(r('<nz-tour class="hidden"></nz-tour>')(y)),angular.element(y.body).append(y.box),y.box.removeClass("hidden"),e.when()):(y.box.addClass("hidden"),n(function(){y.cleanup()},y.current.tour.config.animationDuration))}function m(t){return d(t).then(p)}function d(t){return y.current.tour.steps[y.current.step].before?y.current.tour.steps[y.current.step].before(t):e.when(null)}function p(){return y.$broadcast("step",y.current.step),e.when(null)}function w(t){return y.current.tour.steps[y.current.step].after?y.current.tour.steps[y.current.step].after(t):e.when(null)}function v(){return y.current.step===y.current.tour.steps.length-1?x().then(function(){return e.reject("No more steps left")}):e.when(null)}function x(){return h(!1).then(function(){var t=y.current.tour.config.onComplete;return y.current=!1,!t||t()})}function k(){}function b(t,e){var o=!1;return function(){o||(t.call(),o=!0,n(function(){o=!1},e))}}function T(t,e,o){var r;return function(){var n=this,i=arguments,s=function(){r=null,o||t.apply(n,i)},l=o&&!r;clearTimeout(r),r=setTimeout(s,e),l&&t.apply(n,i)}}var y=o.$new();return angular.extend(y,{config:{mask:{visible:!0,visibleOnNoTarget:!1,clickThrough:!1,clickExit:!1,scrollThrough:!0,color:"rgba(0,0,0,.7)"},dark:!1,scrollBox:navigator.userAgent.indexOf("AppleWebKit")!=-1?"body":"html",previousText:"Previous",nextText:"Next",finishText:"Finish",animationDuration:400,placementPriority:["bottom","right","top","left"],disableHotkeys:!1,showPrevious:!0,showNext:!0},current:!1,body:i[0].body,box:!1,start:s,stop:l,pause:a,next:c,previous:f,gotoStep:u,throttle:b,debounce:T}),window.nzTour=y,y}]),n.directive("nzTour",["$q","$compile","$document","$timeout",function(t,e,o,r){return{template:['<div id="nzTour-box-wrap">','   <div id="nzTour-box">','        <div id="nzTour-tip" class="top center"></div>','        <div id="nzTour-step">{{view.step + 1}}</div>','        <div id="nzTour-length">{{view.length}}</div>','        <div id="nzTour-close" ng-click="stop()">&#10005</div>','        <div id="nzTour-content">','           <div id="nzTour-inner-content"></div>',"        </div>",'        <div id="nzTour-actions">','            <button id="nzTour-previous" ng-show="view.step > 0 && view.showPrevious" ng-click="previous()">{{view.previousText}}</button>','            <button id="nzTour-next" ng-show="view.step >= 0 && view.showNext" ng-click="next()" class="success">{{view.nextText}}</button>',"        </div>","    </div>","</div>",'<div class="nzTour-masks" ng-show="current.tour.config.mask.visible" ng-click="tryStop()">','    <div class="mask top" ng-style="{\'background-color\': current.tour.config.mask.color}"></div>','    <div class="mask right" ng-style="{\'background-color\': current.tour.config.mask.color}"></div>','    <div class="mask bottom" ng-style="{\'background-color\': current.tour.config.mask.color}"></div>','    <div class="mask left" ng-style="{\'background-color\': current.tour.config.mask.color}"></div>','    <div class="mask center"></div>',"</div>"].join(" "),link:function(n,i){function s(t){if(t.which>=49&&t.which<=57)return void n.gotoStep(t.which-48);switch(t.which){case 37:return n.previous(),void u(t);case 39:return n.next(),void u(t);case 27:if(!T.disableEscExit)return n.stop(),void u(t);case 38:case 40:return void b()}}function l(t){return t.stopPropagation(t),t.preventDefault(t),t.returnValue=!1,!1}function a(t){var e=[A.masks_top,A.masks_right,A.masks_bottom,A.masks_left];if(t){P=!0;for(var o=0;o<e.length;o++)e[o].css("transition","all "+T.animationDuration+"ms ease")}else{P=!1;for(var o=0;o<e.length;o++)e[o].css("transition","all 0")}}function c(t){var e=[A.wrap,A.box,A.tip];if(t)for(var o=0;o<e.length;o++)e[o].css("transition","all "+T.animationDuration+"ms ease");else for(var o=0;o<e.length;o++)e[o].css("transition","all 0")}function f(t){var e;e="DOMMouseScroll"==t.type?t.detail*-40:t.wheelDelta;var o=e>0,r=A.content.scrollTop();return o&&!r?u(t):o||A.innerContent.height()-A.content.height()!=r?void 0:u(t)}function u(t){return t.stopPropagation(t),t.preventDefault(t),t.returnValue=!1,!1}function g(t,r){A.target=!1;var i=n.current.tour.steps;q=r,n.view={step:r,length:i.length,previousText:T.previousText,nextText:r==i.length-1?T.finishText:T.nextText,showNext:void 0===i[r].showNext?T.showNext:i[r].showNext,showPrevious:void 0===i[r].showPrevious?T.showPrevious:i[r].showPrevious};var s="<div>"+i[r].content+"</div>",l=e(s)(n);return A.innerContent=angular.element(o[0].getElementById("nzTour-inner-content")),A.innerContent[0].children.length?A.innerContent[0].replaceChild(l[0],A.innerContent[0].children[0]):A.innerContent.append(l),z=!0,h(r).then(m).then(d).then(m).then(w).then(function(){z=!1})}function h(e){var r=t.defer();if(A.target)r.resolve(y);else{var i=o[0].querySelectorAll(n.current.tour.steps[e].target);i.length?(A.target=angular.element(i[0]),r.resolve(A.target)):r.resolve(!1)}return r.promise}function m(){return A.target?(M.window={width:o[0].innerWidth,height:o[0].innerHeight},M.scroll={width:A.scroll.innerWidth,height:A.scroll.offsetHeight,offset:A.scroll[0].getBoundingClientRect(),scroll:{top:A.scroll.scrollTop,left:A.scroll.scrollLeft}},angular.forEach(M.scroll.offset,function(t,e){M.scroll.offset[e]=Math.ceil(t)}),M.scroll.height=M.scroll.height+M.scroll.offset.top>M.window.height?M.window.height:M.scroll.height,M.scroll.width=M.scroll.width+M.scroll.offset.left>M.window.width?M.window.width:M.scroll.width,M.scroll.offset.toBottom=M.scroll.height+M.scroll.offset.top,M.scroll.offset.toRight=M.scroll.width+M.scroll.offset.left,M.scroll.offset.fromBottom=M.window.height-M.scroll.offset.top-M.scroll.height,M.scroll.offset.fromRight=M.window.width-M.scroll.offset.left-M.scroll.width,M.target={width:A.target.offsetWidth,height:A.target.offsetHeight,offset:A.target[0].getBoundingClientRect()},"body"!=T.scrollBox&&"html"!=T.scrollBox||(M.target.offset.top-=M.scroll.scroll.top),angular.forEach(M.target.offset,function(t,e){M.target.offset[e]=Math.ceil(t)}),M.target.offset.toBottom=M.target.offset.top+M.target.height,M.target.offset.toRight=M.target.offset.left+M.target.width,M.target.offset.fromBottom=M.window.height-M.target.offset.top-M.target.height,M.target.offset.fromRight=M.window.width-M.target.offset.left-M.target.width,M.target.margins={offset:{top:M.target.offset.top-B,left:M.target.offset.left-B,toBottom:M.target.offset.toBottom+B,toRight:M.target.offset.toRight+B,fromBottom:M.target.offset.fromBottom-B,fromRight:M.target.offset.fromRight-B},height:M.target.height+2*B,right:M.target.offset.fromRight+2*B},t.when(null)):t.when(null)}function d(){if(!A.target)return t.when(null);var e=p(),o=t.defer();return e?A.scroll.animate({scrollTop:e},E?0:T.animationDuration,function(){o.resolve()}):o.resolve(),o.promise}function p(){return M.target.margins.height>M.scroll.height?M.target.offset.toBottom-S<M.scroll.offset.top?M.scroll.scroll.top-(M.scroll.offset.top-(M.target.offset.toBottom-S)):M.target.offset.top+S>M.scroll.offset.toBottom&&M.scroll.scroll.top+(M.target.offset.top+S-M.scroll.offset.toBottom):M.target.margins.offset.top<M.scroll.offset.top?M.scroll.scroll.top-(M.scroll.offset.top-M.target.margins.offset.top):M.target.margins.offset.toBottom>M.scroll.offset.toBottom&&M.scroll.scroll.top+(M.target.margins.offset.toBottom-M.scroll.offset.toBottom)}function w(){return t.all([v(),x()])}function v(){function e(){return M.target.margins.offset.fromBottom>S&&(M.target.width>_?(l("bottom","center"),!0):M.target.offset.fromRight+M.target.width>_?(l("bottom","left"),!0):(l("bottom","right"),!0))}function r(){return M.target.margins.offset.fromRight>_&&(M.target.margins.height>M.scroll.height?M.target.offset.top>M.window.height/2?(a("right","top"),!0):M.target.offset.fromBottom>M.window.height/2?(a("right","bottom"),!0):(a("right","center",!0),!0):M.target.height>S?(a("right","center"),!0):M.target.offset.fromBottom+M.target.height>S?(a("right","top"),!0):(a("right","bottom"),!0))}function i(){return M.target.margins.offset.left>_&&(M.target.margins.height>M.scroll.height?(a("left","center",!0),!0):M.target.height>S?(a("left","center"),!0):M.target.offset.fromBottom+M.target.height>S?(a("left","top"),!0):(a("left","bottom"),!0))}function s(){return M.target.margins.offset.top>S&&(M.target.width>_?(l("top","center"),!0):M.target.offset.fromRight+M.target.width>_?(l("top","left"),!0):(l("top","right"),!0))}function l(t,e){var o,r,n,i,s;"top"==t?(o=M.target.margins.offset.top,s="bottom",i="-100%"):(o=M.target.margins.offset.toBottom,s="top",i="0"),"right"==e?(r=M.target.offset.toRight,n="-100%"):"center"==e?(r=M.target.offset.left+M.target.width/2,n="-50%"):(r=M.target.offset.left,n="0"),A.wrap.css({left:r+"px",top:o+"px",transform:"translate("+n+","+i+")"}),A.tip.attr("class","vertical "+s+" "+e)}function a(t,e,o){var r,n,i,s,l;"right"==t?(n=M.target.margins.offset.toRight,l="left",i="0"):(n=M.target.margins.offset.left,l="right",i="-100%"),o?(r=M.window.height/2,s="-50%"):"top"==e?(r=M.target.offset.top,s="0"):"center"==e?(r=M.target.offset.top+M.target.height/2,s="-50%"):(r=M.target.offset.toBottom,s="-100%"),A.wrap.css({left:n+"px",top:r+"px",transform:"translate("+i+","+s+")"}),A.tip.attr("class","horizontal "+l+" "+e)}function c(t,e){var o,r,n,i;"top"==t?(o=M.target.margins.offset.top<M.scroll.offset.top?B:M.target.offset.top,n="0"):(o=M.target.margins.offset.toBottom>M.scroll.offset.toBottom?M.scroll.offset.toBottom-B:M.target.offset.toBottom,n="-100%"),"right"==e?(r=M.target.offset.left+M.target.width,i="-100%"):"center"==e?(r=M.target.offset.left+M.target.width/2,i="-50%"):(r=M.target.offset.left,i="0"),A.wrap.css({left:r+"px",top:o+"px",transform:"translate("+i+","+n+")"}),A.tip.attr("class","hidden")}function f(){angular.element(o[0].getElementById("nzTour-box-wrap")).css({left:"50%",top:"50%",transform:"translate(-50%, -50%)",margin:"0"}),angular.element(o[0].getElementById("nzTour-tip")).attr("class","hidden")}var u=n.current.tour.steps[n.current.step];if(!A.target)return void f();var g={bottom:e,right:r,left:i,top:s},h=!1;return angular.forEach(u.placementPriority||T.placementPriority,function(t){!h&&g[t]()&&(h=!0)}),h||c("bottom","center"),t.when(null)}function x(){if(console.log(A.target),!A.target)return console.log("1st !",A.masks_top),A.masks_top.css({height:T.mask.visibleOnNoTarget?"100%":"0px"}),A.masks_bottom.css({height:"0px"}),A.masks_left.css({top:"0px",height:"100%",width:"0px"}),A.masks_right.css({top:"0px",height:"100%",width:"0px"}),t.when(null);var e=T.highlightMargin?T.highlightMargin:0;return console.log(M.target.offset.top),A.masks_top.css({height:M.target.offset.top-e+"px",top:M.target.offset.top<0?M.target.offset.top+"px":0}),A.masks_bottom.css({height:M.target.offset.fromBottom-e+"px",bottom:M.target.offset.fromBottom<0?M.target.offset.fromBottom+"px":0}),A.masks_left.css({top:M.target.offset.top-e+"px",height:M.target.height+2*e+"px",width:M.target.offset.left-e+"px"}),A.masks_right.css({top:M.target.offset.top-e+"px",height:M.target.height+2*e+"px",width:M.target.offset.fromRight-e+"px"}),T.disableInteraction&&A.masks_center.css({height:M.target.height+2*e+"px",top:M.target.offset.top-e+"px",left:M.target.offset.left-e+"px",right:M.target.offset.fromRight-e+"px",backgroundColor:"transparent"}),t.when(null)}var k,b,T=n.current.tour.config,y=!1,z=!1,B=15,S=120,_=250,E=!1,P=!0,q=null,A={window:angular.element(window),wrap:angular.element(o[0].getElementById("nzTour-box-wrap")),box:angular.element(o[0].querySelectorAll("#nzTour-box")),tip:angular.element(o[0].querySelectorAll("#nzTour-tip")),step:angular.element(o[0].querySelectorAll("#nzTour-step")),close:angular.element(o[0].querySelectorAll("#nzTour-close")),content:angular.element(o[0].getElementById("nzTour-content")),innerContent:angular.element(o[0].querySelectorAll("#nzTour-inner-content")),actions:angular.element(o[0].querySelectorAll("#nzTour-actions")),previous:angular.element(o[0].querySelectorAll("#nzTour-previous")),next:angular.element(o[0].querySelectorAll("#nzTour-next")),masks_wrap:angular.element(o[0].querySelectorAll(".nzTour-masks")),masks_top:angular.element(o[0].querySelectorAll(".nzTour-masks .top")),masks_right:angular.element(o[0].querySelectorAll(".nzTour-masks .right")),masks_bottom:angular.element(o[0].querySelectorAll(".nzTour-masks .bottom")),masks_left:angular.element(o[0].querySelectorAll(".nzTour-masks .left")),masks_center:angular.element(o[0].querySelectorAll(".nzTour-masks .center")),scroll:angular.element(o[0].querySelectorAll(T.scrollBox)),target:!1},M={window:{},scroll:{},target:{}};k=n.$on("step",g),r(function(){o.find("body").css("overflow","hidden"),A={window:angular.element(window),wrap:angular.element(o[0].getElementById("nzTour-box-wrap")),box:angular.element(o[0].querySelectorAll("#nzTour-box")),tip:angular.element(o[0].querySelectorAll("#nzTour-tip")),step:angular.element(o[0].querySelectorAll("#nzTour-step")),close:angular.element(o[0].querySelectorAll("#nzTour-close")),content:angular.element(o[0].getElementById("nzTour-content")),innerContent:angular.element(o[0].querySelectorAll("#nzTour-inner-content")),actions:angular.element(o[0].querySelectorAll("#nzTour-actions")),previous:angular.element(o[0].querySelectorAll("#nzTour-previous")),next:angular.element(o[0].querySelectorAll("#nzTour-next")),masks_wrap:angular.element(o[0].querySelectorAll(".nzTour-masks")),masks_top:angular.element(o[0].querySelectorAll(".nzTour-masks .top")),masks_right:angular.element(o[0].querySelectorAll(".nzTour-masks .right")),masks_bottom:angular.element(o[0].querySelectorAll(".nzTour-masks .bottom")),masks_left:angular.element(o[0].querySelectorAll(".nzTour-masks .left")),masks_center:angular.element(o[0].querySelectorAll(".nzTour-masks .center")),scroll:angular.element(o[0].querySelectorAll(T.scrollBox)),target:!1},a(!0),c(!0),A.masks_wrap.css("pointer-events",T.mask.clickThrough?"none":"all"),T.dark&&(A.box.addClass("dark-box"),B=7),0==T.disableHotkeys&&(A.window.bind("keydown",s),A.window.bind("resize scroll",b),window.addWheelListener(window,b),A.content=angular.element(i[0].children[0].children[0].children[4]),A.content.bind("scroll",f),window.addWheelListener(A.content[0],f),T.mask.scrollThrough===!1&&window.addWheelListener(A.masks_wrap[0],l))}),n.cleanup=function(){k(),A.window.unbind("keydown",s),A.window.unbind("resize scroll",b),window.removeWheelListener(window,b),A.content.unbind("scroll",f),window.removeWheelListener(A.content[0],f),T.mask.scrollThrough===!1&&window.removeWheelListener(A.masks_wrap[0],l),A={},i.remove()},n.tryStop=function(){T.mask.clickExit&&n.stop()}}}}]),!window.addWheelListener){var i,s,l="";window.addEventListener?(i="addEventListener",_removeEventListener="removeEventListener"):(i="attachEvent",_removeEventListener="detachEvent",l="on"),s="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",window.addWheelListener=function(t,e,r){o(t,s,e,r),"DOMMouseScroll"==s&&o(t,"MozMousePixelScroll",e,r)},window.removeWheelListener=function(t,o,r){e(t,s,o,r),"DOMMouseScroll"==s&&e(t,"MozMousePixelScroll",o,r)}}}();