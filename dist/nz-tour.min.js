!function(){function t(e){return angular.forEach(arguments,function(r){r!==e&&angular.forEach(r,function(r,o){e[o]&&e[o].constructor&&e[o].constructor===Object?t(e[o],r):e[o]=r})}),e}function e(t,e,r,n){t[_removeEventListener](i+e,"wheel"==s?r:o,n||!1)}function r(t,e,r,n){t[l](i+e,"wheel"==s?r:o,n||!1)}function o(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==s?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,callback(e)}var n=angular.module("nzTour",[]);if(n.factory("nzTour",["$q","$rootScope","$compile","$timeout","$document",function(e,r,o,n,l){function s(t){return t||e.reject("No Tour Specified!"),t.steps.length||e.reject("No steps were found in that tour!"),b.current?i().then(function(){return g(t)}):g(t)}function i(){return w(0).then(function(){return h(!1)}).then(function(){var t=b.current.tour.config.onClose;return b.current=!1,!t||t()})}function a(){b.current&&T()}function u(){return b.current||b.current.reject(),w(1).then(v).then(function(){return b.current.step++,1}).then(m)}function c(){return w(-1).then(function(){return b.current.step>0?(b.current.step--,-1):e.reject(null)}).then(m)}function f(t){return t>0&&t<=b.current.tour.steps.length?w(0).then(function(){return b.current.step=t-1,0}).then(m):e.reject("Requested step not defined")}function g(r){r.config=t({},b.config,r.config);var o=function(t){if(!angular.isArray(t))return!1;for(var e=0;e<t.length;e+=1)if(b.config.placementPriority.indexOf(t[e])===-1)return!1;return!0};return o(r.config.placementPriority)||(r.config.placementPriority=b.config.placementPriority),angular.forEach(r.steps,function(t){t.placementPriority&&(o(t.placementPriority)||delete t.placementPriority)}),b.current={tour:r,step:0,promise:e.defer()},h(!0,r),m()}function h(t,r){return t?(b.box=angular.element(o('<nz-tour class="hidden"></nz-tour>')(b)),angular.element(b.body).append(b.box),b.box.removeClass("hidden"),e.when()):(b.box.addClass("hidden"),n(function(){b.cleanup()},b.current.tour.config.animationDuration))}function m(t){return p(t).then(d)}function p(t){return b.current.tour.steps[b.current.step].before?b.current.tour.steps[b.current.step].before(t):e.when(null)}function d(){return b.$broadcast("step",b.current.step),e.when(null)}function w(t){return b.current.tour.steps[b.current.step].after?b.current.tour.steps[b.current.step].after(t):e.when(null)}function v(){return b.current.step===b.current.tour.steps.length-1?k().then(function(){return e.reject("No more steps left")}):e.when(null)}function k(){return h(!1).then(function(){var t=b.current.tour.config.onComplete;return b.current=!1,!t||t()})}function T(){}function y(t,e){var r=!1;return function(){r||(t.call(),r=!0,n(function(){r=!1},e))}}function x(t,e,r){var o;return function(){var n=this,l=arguments,s=function(){o=null,r||t.apply(n,l)},i=r&&!o;clearTimeout(o),o=setTimeout(s,e),i&&t.apply(n,l)}}var b=r.$new();return angular.extend(b,{config:{mask:{visible:!0,visibleOnNoTarget:!1,clickThrough:!1,clickExit:!1,scrollThrough:!0,color:"rgba(0,0,0,.7)"},dark:!1,scrollBox:navigator.userAgent.indexOf("AppleWebKit")!=-1?"body":"html",previousText:"Previous",nextText:"Next",finishText:"Finish",animationDuration:400,placementPriority:["bottom","right","top","left"],disableHotkeys:!1,showPrevious:!0,showNext:!0},current:!1,body:l[0].body,box:!1,start:s,stop:i,pause:a,next:u,previous:c,gotoStep:f,throttle:y,debounce:x}),window.nzTour=b,b}]),n.directive("nzTour",["$q","$compile","$document","$timeout","$window",function(t,e,r,o,n){return{template:['<div id="nzTour-box-wrap" style="transition:all 400ms ease;">','   <div id="nzTour-box">','        <div id="nzTour-tip" class="top center"></div>','        <div id="nzTour-step">{{view.step + 1}}</div>','        <div id="nzTour-length">{{view.length}}</div>','        <div id="nzTour-close" ng-click="stop()">&#10005</div>','        <div id="nzTour-content" >','           <div id="nzTour-inner-content"></div>',"        </div>",'        <div id="nzTour-actions">','            <button id="nzTour-previous" ng-show="view.step > 0 && view.showPrevious" ng-click="previous()">{{view.previousText}}</button>','            <button id="nzTour-next" ng-show="view.step >= 0 && view.showNext" ng-click="next()" class="success">{{view.nextText}}</button>',"        </div>","    </div>","</div>",'<div class="nzTour-masks" ng-show="current.tour.config.mask.visible" ng-click="tryStop()">','    <div style="transition:all 400ms ease;" class="mask top" ng-style="{\'background-color\': current.tour.config.mask.color}"></div>','    <div style="transition:all 400ms ease;" class="mask right" ng-style="{\'background-color\': current.tour.config.mask.color}"></div>','    <div style="transition:all 400ms ease;" class="mask bottom" ng-style="{\'background-color\': current.tour.config.mask.color}"></div>','    <div style="transition:all 400ms ease;" class="mask left" ng-style="{\'background-color\': current.tour.config.mask.color}"></div>','    <div class="mask center"></div>',"</div>"].join(" "),link:function(l,s){function i(t){if(t.which>=49&&t.which<=57)return void l.gotoStep(t.which-48);switch(t.which){case 37:return l.previous(),void g(t);case 39:return l.next(),void g(t);case 27:if(!A.disableEscExit)return l.stop(),void g(t);case 38:case 40:return void S()}}function a(t){return t.stopPropagation(t),t.preventDefault(t),t.returnValue=!1,!1}function u(t){C.masks_top=angular.element(r[0].querySelectorAll(".nzTour-masks .top")),C.masks_right=angular.element(r[0].querySelectorAll(".nzTour-masks .right")),C.masks_bottom=angular.element(r[0].querySelectorAll(".nzTour-masks .bottom")),C.masks_left=angular.element(r[0].querySelectorAll(".nzTour-masks .left")),C.masks_center=angular.element(r[0].querySelectorAll(".nzTour-masks .center"));var e=[C.masks_top,C.masks_right,C.masks_bottom,C.masks_left];if(t){R=!0;for(var o=0;o<e.length;o++)e[o].css("transition","all "+A.animationDuration+"ms ease")}else{R=!1;for(var o=0;o<e.length;o++)e[o].css("transition","all 0")}}function c(t){var e=[C.wrap,C.box,C.tip];if(t)for(var r=0;r<e.length;r++)e[r].css("transition","all "+A.animationDuration+"ms ease");else for(var r=0;r<e.length;r++)e[r].css("transition","all 0")}function f(t){var e;e="DOMMouseScroll"==t.type?t.detail*-40:t.wheelDelta;var r=e>0,o=C.content[0].scrollTop;return r&&!o?g(t):r||C.innerContent[0].offsetHeight-C.content[0].offsetHeight!=o?void 0:g(t)}function g(t){return t.stopPropagation(t),t.preventDefault(t),t.returnValue=!1,!1}function h(){_||(D=!0,u(!1),q(),d(L).then(w).then(v).then(w).then(y))}function m(){D=!1,u(!0)}function p(t,o){C.target=!1;var n=l.current.tour.steps;L=o,l.view={step:o,length:n.length,previousText:A.previousText,nextText:o==n.length-1?A.finishText:A.nextText,showNext:void 0===n[o].showNext?A.showNext:n[o].showNext,showPrevious:void 0===n[o].showPrevious?A.showPrevious:n[o].showPrevious};var s="<div>"+n[o].content+"</div>",i=e(s)(l);return C.innerContent=angular.element(r[0].getElementById("nzTour-inner-content")),C.innerContent[0].children.length?C.innerContent[0].replaceChild(i[0],C.innerContent[0].children[0]):C.innerContent.append(i),_=!0,d(o).then(w).then(v).then(w).then(y).then(function(){_=!1})}function d(e){var o=t.defer();if(C.target)o.resolve(B);else{var n=r[0].querySelectorAll(l.current.tour.steps[e].target);n.length?(C.target=angular.element(n[0]),o.resolve(C.target)):o.resolve(!1)}return o.promise}function w(){if(!C.target)return t.when(null);var e=n,o=r[0],l=o.documentElement,s=o.getElementsByTagName("body")[0];return W.window={width:e.innerWidth||l.clientWidth||s.clientWidth,height:e.innerHeight||l.clientHeight||s.clientHeight},W.scroll={width:C.scroll[0].clientWidth,height:C.scroll[0].clientHeight,offset:{top:C.scroll[0].offsetTop,left:C.scroll[0].offsetLeft},scroll:{top:C.scroll[0].scrollTop,left:C.scroll[0].scrollLeft}},angular.forEach(W.scroll.offset,function(t,e){W.scroll.offset[e]=Math.ceil(t)}),W.scroll.height=W.scroll.height+W.scroll.offset.top>W.window.height?W.window.height:W.scroll.height,W.scroll.width=W.scroll.width+W.scroll.offset.left>W.window.width?W.window.width:W.scroll.width,W.scroll.offset.toBottom=W.scroll.height+W.scroll.offset.top,W.scroll.offset.toRight=W.scroll.width+W.scroll.offset.left,W.scroll.offset.fromBottom=W.window.height-W.scroll.offset.top-W.scroll.height,W.scroll.offset.fromRight=W.window.width-W.scroll.offset.left-W.scroll.width,W.target={width:C.target[0].offsetWidth,height:C.target[0].offsetHeight,offset:C.target[0].getBoundingClientRect()},"body"!=A.scrollBox&&"html"!=A.scrollBox||(W.target.offset.top-=W.scroll.scroll.top),angular.forEach(W.target.offset,function(t,e){W.target.offset[e]=Math.ceil(t)}),W.target.offset.toBottom=W.target.offset.top+W.target.height,W.target.offset.toRight=W.target.offset.left+W.target.width,W.target.offset.fromBottom=W.window.height-W.target.offset.top-W.target.height,W.target.offset.fromRight=W.window.width-W.target.offset.left-W.target.width,W.target.margins={offset:{top:W.target.offset.top-E,left:W.target.offset.left-E,toBottom:W.target.offset.toBottom+E,toRight:W.target.offset.toRight+E,fromBottom:W.target.offset.fromBottom-E,fromRight:W.target.offset.fromRight-E},height:W.target.height+2*E,right:W.target.offset.fromRight+2*E},t.when(null)}function v(){if(!C.target)return t.when(null);var e=T(),r=t.defer();return e===!1?r.resolve():k(C.scroll[0],e,D?0:A.animationDuration,r),r.promise}function k(t,e,r,o){if(r<=0)return void o.resolve();var n=e-t.scrollTop,l=n/r*10;setTimeout(function(){if(t.scrollTop=t.scrollTop+l,t.scrollTop===e)return void o.resolve();k(t,e,r-10,o)},10)}function T(){return W.target.margins.height>W.scroll.height?W.target.offset.toBottom-P<W.scroll.offset.top?W.scroll.scroll.top-(W.scroll.offset.top-(W.target.offset.toBottom-P)):W.target.offset.top+P>W.scroll.offset.toBottom&&W.scroll.scroll.top+(W.target.offset.top+P-W.scroll.offset.toBottom):W.target.margins.offset.top<W.scroll.offset.top?W.scroll.scroll.top-(W.scroll.offset.top-W.target.margins.offset.top):W.target.margins.offset.toBottom>W.scroll.offset.toBottom&&W.scroll.scroll.top+(W.target.margins.offset.toBottom-W.scroll.offset.toBottom)}function y(){return t.all([x(),b()])}function x(){function e(){return W.target.margins.offset.fromBottom>P&&(W.target.width>M?(i("bottom","center"),!0):W.target.offset.fromRight+W.target.width>M?(i("bottom","left"),!0):(i("bottom","right"),!0))}function o(){return W.target.margins.offset.fromRight>M&&(W.target.margins.height>W.scroll.height?W.target.offset.top>W.window.height/2?(a("right","top"),!0):W.target.offset.fromBottom>W.window.height/2?(a("right","bottom"),!0):(a("right","center",!0),!0):W.target.height>P?(a("right","center"),!0):W.target.offset.fromBottom+W.target.height>P?(a("right","top"),!0):(a("right","bottom"),!0))}function n(){return W.target.margins.offset.left>M&&(W.target.margins.height>W.scroll.height?(a("left","center",!0),!0):W.target.height>P?(a("left","center"),!0):W.target.offset.fromBottom+W.target.height>P?(a("left","top"),!0):(a("left","bottom"),!0))}function s(){return W.target.margins.offset.top>P&&(W.target.width>M?(i("top","center"),!0):W.target.offset.fromRight+W.target.width>M?(i("top","left"),!0):(i("top","right"),!0))}function i(t,e){var o,n,l,s,i;"top"==t?(o=W.target.margins.offset.top,i="bottom",s="-100%"):(o=W.target.margins.offset.toBottom,i="top",s="0"),"right"==e?(n=W.target.offset.toRight,l="-100%"):"center"==e?(n=W.target.offset.left+W.target.width/2,l="-50%"):(n=W.target.offset.left,l="0"),C.wrap=angular.element(r[0].getElementById("nzTour-box-wrap")),C.wrap.css({left:n+"px",top:o+"px",transform:"translate("+l+","+s+")"}),C.tip=angular.element(r[0].querySelectorAll("#nzTour-tip")),C.tip.attr("class","vertical "+i+" "+e)}function a(t,e,r){var o,n,l,s,i;"right"==t?(n=W.target.margins.offset.toRight,i="left",l="0"):(n=W.target.margins.offset.left,i="right",l="-100%"),r?(o=W.window.height/2,s="-50%"):"top"==e?(o=W.target.offset.top,s="0"):"center"==e?(o=W.target.offset.top+W.target.height/2,s="-50%"):(o=W.target.offset.toBottom,s="-100%"),C.wrap.css({left:n+"px",top:o+"px",transform:"translate("+l+","+s+")"}),C.tip.attr("class","horizontal "+i+" "+e)}function u(t,e){var r,o,n,l;"top"==t?(r=W.target.margins.offset.top<W.scroll.offset.top?E:W.target.offset.top,n="0"):(r=W.target.margins.offset.toBottom>W.scroll.offset.toBottom?W.scroll.offset.toBottom-E:W.target.offset.toBottom,n="-100%"),"right"==e?(o=W.target.offset.left+W.target.width,l="-100%"):"center"==e?(o=W.target.offset.left+W.target.width/2,l="-50%"):(o=W.target.offset.left,l="0"),C.wrap.css({left:o+"px",top:r+"px",transform:"translate("+l+","+n+")"}),C.tip.attr("class","hidden")}function c(){angular.element(r[0].getElementById("nzTour-box-wrap")).css({left:"50%",top:"50%",transform:"translate(-50%, -50%)",margin:"0"}),angular.element(r[0].getElementById("nzTour-tip")).attr("class","hidden")}var f=l.current.tour.steps[l.current.step];if(!C.target)return void c();var g={bottom:e,right:o,left:n,top:s},h=!1;return angular.forEach(f.placementPriority||A.placementPriority,function(t){!h&&g[t]()&&(h=!0)}),h||u("bottom","center"),t.when(null)}function b(){if(C.masks_top=angular.element(r[0].querySelectorAll(".nzTour-masks .top")),C.masks_right=angular.element(r[0].querySelectorAll(".nzTour-masks .right")),C.masks_bottom=angular.element(r[0].querySelectorAll(".nzTour-masks .bottom")),C.masks_left=angular.element(r[0].querySelectorAll(".nzTour-masks .left")),C.masks_center=angular.element(r[0].querySelectorAll(".nzTour-masks .center")),!C.target)return C.masks_top.css({height:A.mask.visibleOnNoTarget?"100%":"0px"}),C.masks_bottom.css({height:"0px"}),C.masks_left.css({top:"0px",height:"100%",width:"0px"}),C.masks_right.css({top:"0px",height:"100%",width:"0px"}),t.when(null);var e=A.highlightMargin?A.highlightMargin:0;return C.masks_top.css({height:W.target.offset.top-e+"px",top:W.target.offset.top<0?W.target.offset.top+"px":0}),C.masks_bottom.css({height:W.target.offset.fromBottom-e+"px",bottom:W.target.offset.fromBottom<0?W.target.offset.fromBottom+"px":0}),C.masks_left.css({top:W.target.offset.top-e+"px",height:W.target.offset.height+2*e+"px",width:W.target.offset.left-e+"px"}),C.masks_right.css({top:W.target.offset.top-e+"px",height:W.target.offset.height+2*e+"px",width:W.target.offset.fromRight-e+"px"}),A.disableInteraction&&C.masks_center.css({height:W.target.height+2*e+"px",top:W.target.offset.top-e+"px",left:W.target.offset.left-e+"px",right:W.target.offset.fromRight-e+"px",backgroundColor:"transparent"}),t.when(null)}var z,S,q,A=l.current.tour.config,B=!1,_=!1,E=15,P=120,M=250,D=!1,R=!0,L=null,C={window:angular.element(window),wrap:angular.element(r[0].getElementById("nzTour-box-wrap")),box:angular.element(r[0].querySelectorAll("#nzTour-box")),tip:angular.element(r[0].querySelectorAll("#nzTour-tip")),step:angular.element(r[0].querySelectorAll("#nzTour-step")),close:angular.element(r[0].querySelectorAll("#nzTour-close")),content:angular.element(r[0].getElementById("nzTour-content")),innerContent:angular.element(r[0].querySelectorAll("#nzTour-inner-content")),actions:angular.element(r[0].querySelectorAll("#nzTour-actions")),previous:angular.element(r[0].querySelectorAll("#nzTour-previous")),next:angular.element(r[0].querySelectorAll("#nzTour-next")),masks_wrap:angular.element(r[0].querySelectorAll(".nzTour-masks")),masks_top:angular.element(r[0].querySelectorAll(".nzTour-masks .top")),masks_right:angular.element(r[0].querySelectorAll(".nzTour-masks .right")),masks_bottom:angular.element(r[0].querySelectorAll(".nzTour-masks .bottom")),masks_left:angular.element(r[0].querySelectorAll(".nzTour-masks .left")),masks_center:angular.element(r[0].querySelectorAll(".nzTour-masks .center")),scroll:angular.element(r[0].querySelectorAll(A.scrollBox)),target:!1},W={window:{},scroll:{},target:{}};z=l.$on("step",p),o(function(){r.find("body").css("overflow","hidden"),C={window:angular.element(window),wrap:angular.element(r[0].getElementById("nzTour-box-wrap")),box:angular.element(r[0].querySelectorAll("#nzTour-box")),tip:angular.element(r[0].querySelectorAll("#nzTour-tip")),step:angular.element(r[0].querySelectorAll("#nzTour-step")),close:angular.element(r[0].querySelectorAll("#nzTour-close")),content:angular.element(r[0].getElementById("nzTour-content")),innerContent:angular.element(r[0].querySelectorAll("#nzTour-inner-content")),actions:angular.element(r[0].querySelectorAll("#nzTour-actions")),previous:angular.element(r[0].querySelectorAll("#nzTour-previous")),next:angular.element(r[0].querySelectorAll("#nzTour-next")),masks_wrap:angular.element(r[0].querySelectorAll(".nzTour-masks")),masks_top:angular.element(r[0].querySelectorAll(".nzTour-masks .top")),masks_right:angular.element(r[0].querySelectorAll(".nzTour-masks .right")),masks_bottom:angular.element(r[0].querySelectorAll(".nzTour-masks .bottom")),masks_left:angular.element(r[0].querySelectorAll(".nzTour-masks .left")),masks_center:angular.element(r[0].querySelectorAll(".nzTour-masks .center")),scroll:angular.element(r[0].querySelectorAll(A.scrollBox)),target:!1},u(!0),c(!0),C.masks_wrap.css("pointer-events",A.mask.clickThrough?"none":"all"),A.dark&&(C.box.addClass("dark-box"),E=7),S=l.throttle(h,16),q=l.debounce(m,100),0==A.disableHotkeys&&(C.window.bind("keydown",i),C.window.bind("scroll",S),C.window.bind("resize",S),window.addWheelListener(window,S),C.content=angular.element(s[0].children[0].children[0].children[4]),C.content.bind("scroll",f),window.addWheelListener(C.content[0],f),A.mask.scrollThrough===!1&&window.addWheelListener(C.masks_wrap[0],a))}),l.cleanup=function(){z(),C.window.unbind("keydown",i),C.window.unbind("resize scroll",S),window.removeWheelListener(window,S),C.content.unbind("scroll",f),window.removeWheelListener(C.content[0],f),A.mask.scrollThrough===!1&&window.removeWheelListener(C.masks_wrap[0],a),C={},s.remove()},l.tryStop=function(){A.mask.clickExit&&l.stop()}}}}]),!window.addWheelListener){var l,s,i="";window.addEventListener?(l="addEventListener",_removeEventListener="removeEventListener"):(l="attachEvent",_removeEventListener="detachEvent",i="on"),s="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",window.addWheelListener=function(t,e,o){r(t,s,e,o),"DOMMouseScroll"==s&&r(t,"MozMousePixelScroll",e,o)},window.removeWheelListener=function(t,r,o){e(t,s,r,o),"DOMMouseScroll"==s&&e(t,"MozMousePixelScroll",r,o)}}}();